<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <title>New Year Party 2022</title>
</head>
    <script type="text/javascript">
    
        function showTable(count,volume){

            console.log(count);
            console.log(volume);

            if(count > 0 && volume > 0){
                document.getElementById("t1").style.display = 'block';
            }else if(count > 0 && volume == 0){
                alert("This Reward is Selected and out of stock.");
            }
            
        }
        
        function convertStatus(statusReward){
                let status = "";
                if(statusReward == "The first"){
                    status = "1";
                }else if(statusReward == "The second"){
                    status = "2";
                }else if(statusReward == "The third"){
                    status = "3";
                }else if(statusReward == "The fourth"){
                    status = "4"
                }else if(statusReward == "The fifth"){
                    status = "5"
                }else if(statusReward == "The sixth"){
                    status = "6"
                }
                document.getElementById('s1').innerHTML = status;

        }
        
    </script>
 <body> 

        <nav class = "navbar navbar-expand-sm navbar-dark bg-dark">
            <div class = " container container-fluid">
                <a class = "navbar-brand"> Happy New Year 2022</a>
                <ul class="navbar-nav">
                    <li class = "navbar-item">
                        <a href = "http://127.0.0.1/random" class = "nav-link">Home</a>
                    </li>
                 </ul>
            </div>
        </nav> 
    
       
            
        <div class = "container" style="margin-top: 20px"> 

            <form class = "input-group">     
                <select name = 'status' class = "form-select form-control">
                    <option value="none" selected disabled hidden>เลือกรางวัล</option>
                    <option value = 'The first'> รางวัลที่ 1 </option>
                    <option value = 'The second'> รางวัลที่ 2 </option>
                    <option value = 'The third'> รางวัลที่ 3 </option>
                    <option value = 'The fourth'> รางวัลที่ 4 </option>
                    <option value = 'The fifth'> รางวัลที่ 5 </option>
                    <!-- <option value = 'The sixth'> รางวัลที่ 6 </option> -->
                </select>
                <button class ="btn btn-primary">Random</button> 
                
            </form>

        </div>

        <div id ="t1" class = "container table-responsive table-small" style = "margin-top: 20 px; display: none;">
        <table class = "table table-light" style="margin-top: 10px;">
            <thead>
                <th>ชื่อผู้รับรางวัล</th>
                <th>รายการของรางวัล</th>
                <th>รางวัลที่</th>
            </thead>
            <tbody>
                <tr> <% for ( var i in all ) { %>
                    <td><%= all[i].staff_name %>&nbsp;<%= all[i].staff_surname %> </td>
                    <td><%= all[i].reward_name %></td>
                    <td id = 's1'></td>
                    
                    <script>
                    
                        showTable('<%-all.length%>','<%-all[i].reward_volume%>');
                        convertStatus('<%- all[i].reward_status %>');
                    
                    </script>
                    <% } %>
                </tr>
            </tbody>
        </table>
        </div>


</body>
</html>